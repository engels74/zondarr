# =============================================================================
# Zondarr — Environment Variables
# =============================================================================
# Copy this file to .env and fill in the required values.
# All variables with defaults are optional.

# -----------------------------------------------------------------------------
# Security (REQUIRED)
# -----------------------------------------------------------------------------

# Secret key for signing tokens and sessions. Must be at least 32 characters.
# Generate one with: uv run python -c "import secrets; print(secrets.token_urlsafe(48))"
# Note: The dev CLI (uv run dev_cli) auto-generates this if not set.
SECRET_KEY=

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------

# Database connection URL.
# SQLite (dev):      sqlite+aiosqlite:///./zondarr.db
# PostgreSQL (prod): postgresql+asyncpg://user:pass@host:5432/zondarr
DATABASE_URL=sqlite+aiosqlite:///./zondarr.db

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------

# Host and port for the backend server.
HOST=0.0.0.0
PORT=8000

# Enable debug mode. Accepts: true, 1, yes (case-insensitive).
DEBUG=false

# -----------------------------------------------------------------------------
# CORS (Cross-Origin Resource Sharing)
# -----------------------------------------------------------------------------

# Comma-separated list of allowed origins. Empty = CORS disabled.
# For local development: http://localhost:5173
# For production: https://yourdomain.com
# The dev CLI (uv run dev_cli) sets this automatically.
# CORS_ORIGINS=http://localhost:5173

# -----------------------------------------------------------------------------
# Background Tasks
# -----------------------------------------------------------------------------

# How often (in seconds) to check for expired invitations. Minimum: 60.
EXPIRATION_CHECK_INTERVAL_SECONDS=3600

# How often (in seconds) to sync media server state. Minimum: 60.
SYNC_INTERVAL_SECONDS=900

# -----------------------------------------------------------------------------
# Media Server Credentials (optional, override database values)
# -----------------------------------------------------------------------------

# When set, these environment variables take precedence over credentials
# stored in the database. Useful for Docker/container deployments where
# secrets are injected via environment variables.
# Each variable is independent: e.g. setting PLEX_URL without PLEX_TOKEN
# will override only the URL, keeping the token from the database.

# PLEX_URL=http://plex.local:32400
# PLEX_TOKEN=your-plex-token
# JELLYFIN_URL=http://jellyfin.local:8096
# JELLYFIN_API_KEY=your-jellyfin-api-key

# -----------------------------------------------------------------------------
# Frontend
# -----------------------------------------------------------------------------

# Backend API base URL for the frontend. When empty (default in Docker), the
# frontend proxies /api/* requests through SvelteKit — no CORS needed.
# The dev CLI sets this automatically to http://localhost:<port>.
# Only set this if you want the browser to talk directly to the backend
# (requires CORS_ORIGINS to be configured too).
# PUBLIC_API_URL=http://localhost:8000

# Internal URL for server-side requests (SSR + API proxy).
# In Docker, this defaults to http://localhost:8000 (set by init script).
# Only needed if the backend is on a different host/port from the frontend server.
# INTERNAL_API_URL=http://localhost:8000
